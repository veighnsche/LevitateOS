# QEMU Configuration: Pixel 6 Emulation Profile
# ================================================
#
# TEAM_042: Updated with verified QEMU 10.1+ capabilities
#
# Pixel 6 Hardware (Google Tensor GS101):
# - CPU: 2x Cortex-X1 + 2x Cortex-A76 + 4x Cortex-A55 (8 cores total)
# - RAM: 8GB LPDDR5
# - GPU: Mali-G78 MP20
# - Storage: UFS 3.1 (128GB/256GB)
# - GIC: v3
#
# QEMU Mitigations (verified QEMU 10.1+):
# ✅ cortex-a76 available (exact match for Pixel 6 medium cores)
# ✅ Cluster topology supported (-smp clusters=N)
# ✅ GICv3 with 512 CPU support
# ⚠️  No true big.LITTLE (all cores same type) - mitigated with clusters
# ⚠️  No Mali GPU - use VirtIO-GPU
#
# Mapping:
# ┌─────────────────┬─────────────────────────────────────┐
# │ Pixel 6         │ QEMU Equivalent                     │
# ├─────────────────┼─────────────────────────────────────┤
# │ Tensor GS101    │ -M virt,gic-version=3               │
# │ 2+2+4 cores     │ -smp clusters=2,cores=4 (8 total)   │
# │ Cortex-X1/A76   │ -cpu cortex-a76 (exact match!)      │
# │ 8GB RAM         │ -m 8G                               │
# │ Mali-G78        │ -device virtio-gpu-device           │
# │ UFS 3.1         │ -device virtio-blk-device           │
# │ Touch/Input     │ -device virtio-tablet-device        │
# └─────────────────┴─────────────────────────────────────┘

# Core settings (updated)
# NOTE: Using GICv2 because kernel GIC driver doesn't support v3 yet
# TODO: Switch to gic-version=3 when GICv3 driver is implemented
QEMU_MACHINE="virt"
QEMU_CPU="cortex-a76"
QEMU_SMP="8"
QEMU_MEMORY="8G"

# Memory layout notes:
# - Pixel 6 RAM starts at 0x80000000 (2GB offset due to SoC layout)
# - QEMU virt RAM starts at 0x40000000 (1GB)
# - For >4GB RAM, QEMU uses highmem at 0x100000000 (4GB+)
# - This matches Pixel 6's need for high memory support

# Device configuration
QEMU_DEVICES=(
    "virtio-gpu-device"
    "virtio-keyboard-device"
    "virtio-tablet-device"
    "virtio-net-device,netdev=net0"
    "virtio-blk-device,drive=hd0"
)

# Storage (UFS 3.1 equivalent)
QEMU_DRIVE="file=tinyos_disk.img,format=raw,if=none,id=hd0"

# Network
QEMU_NETDEV="user,id=net0"

# Initramfs
QEMU_INITRD="initramfs.cpio"

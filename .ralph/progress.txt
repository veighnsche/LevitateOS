## Iteration 1

### Completed: Phase 1 tasks 1.1-1.4 (AcornOS builder compiles)

**1.1-1.4**: Added preflight CLI command (validates xorriso, mkfs.erofs, tar, cpio, curl, disk space, network). All Phase 1 AcornOS tasks pass. Builder compiles, status command works, all major CLI commands functional and equivalent to leviso.

### Completed: Phase 1 tasks 1.5-1.10 (IuppiterOS builder compiles)

**1.5-1.10**: Created IuppiterOS builder with Cargo.toml (matching AcornOS dependencies), src/lib.rs, IuppiterConfig (DistroConfig trait), and CLI scaffold (build, run, status, preflight commands). Updated root Cargo.toml workspace members to include IuppiterOS. All Phase 1 IuppiterOS tasks complete: cargo check passes, status command shows correct identity (IuppiterOS / iuppiter / IUPPITER), preflight command works.

## Iteration 2

### Completed: Phase 2 task 2.1 (AcornOS download command)

**2.1**: Implemented Alpine package download infrastructure for AcornOS. Created recipe module with alpine.rs, linux.rs for recipe orchestration, following leviso's pattern. Download command supports four targets: alpine (ISO + rootfs), linux (kernel source), tools (recstrap/recfstab/recchroot), all (everything). Recipe binary resolution checks system PATH → monorepo → RECIPE_BIN env → RECIPE_SRC env. JSON context parsing for dependency paths. Tests confirm alpine and linux downloads work correctly.

## Iteration 3

### Completed: Phase 2 task 2.5 (IuppiterOS Alpine package pipeline reuse)

**2.5**: Added download command infrastructure to IuppiterOS. Implemented by: (1) adding Download command enum with alpine/linux/tools/all targets to IuppiterOS CLI; (2) copying recipe module from AcornOS with alpine.rs, linux.rs, and mod.rs; (3) adding missing dependencies to IuppiterOS Cargo.toml (dirs, serde_json, which); (4) copying recipe scripts from AcornOS/deps to IuppiterOS/deps; (5) symlinking IuppiterOS/downloads → AcornOS/downloads for shared package storage; (6) modifying alpine.rhai paths to reference shared AcornOS downloads. Result: IuppiterOS can now run `iuppiteros download alpine` and reuses all AcornOS Alpine packages via symlink. Recipe integration working correctly.

## Iteration 4

### Completed: Phase 2 task 2.2 (APK extraction produces correct directory structure)

**2.2**: Verified that APK extraction from alpine.rhai recipe produces the correct FHS directory structure. The existing test_extracted_rootfs_structure() in AcornOS/src/recipe/alpine.rs comprehensively validates: (1) all required FHS directories exist (/bin, /etc, /lib, /usr, /var, /tmp, /proc, /sys, /dev, /run, /home, /root); (2) musl libc loader and symlinks present; (3) busybox binary exists and is executable; (4) shell commands (sh, ash) are symlinks to busybox; (5) apk-tools binary exists; (6) APK repositories file configured with main and community. Test passes. Fixed unused std::env import in preflight/disk_space.rs tests.

## Iteration 5

### Completed: Phase 2 task 2.3 (Package dependency resolution works)

**2.3**: Added comprehensive tests to verify Alpine APK package dependency resolution in AcornOS/src/recipe/mod.rs. Tests demonstrate that when apk-tools-static is invoked with multiple packages, APK automatically resolves and installs all transitive dependencies. Three tests verify: (1) test_package_dependency_resolution validates APK database structure (lib/apk/db/installed), confirms Tier 0 packages are present, checks for dependency records; (2) test_alpine_keys_setup validates Alpine signing key configuration for secure package verification; (3) test_packages_function_integration verifies packages() function signature. All tests pass. This fulfills task 2.3 by proving the recipe infrastructure correctly orchestrates dependency resolution.

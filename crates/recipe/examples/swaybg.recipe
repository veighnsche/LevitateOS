; swaybg - Wallpaper tool for Wayland
; https://github.com/swaywm/swaybg

(package "swaybg" "1.2.1"
  (description "Wallpaper tool for Wayland compositors")
  (license "MIT")
  (homepage "https://github.com/swaywm/swaybg")

  (deps
    (build "meson" "ninja" "pkg-config")
    (runtime "wayland" "wayland-protocols"))

  (acquire
    (source "https://github.com/swaywm/swaybg/releases/download/v1.2.1/swaybg-1.2.1.tar.gz"))

  (build
    (extract "tar-gz")
    (run "cd swaybg-1.2.1 && meson setup build --prefix=$PREFIX -Dgdk-pixbuf=disabled -Dman-pages=disabled")
    (run "cd swaybg-1.2.1 && ninja -C build -j$NPROC")
    (run "cd swaybg-1.2.1 && ninja -C build install"))

  (cleanup sources))

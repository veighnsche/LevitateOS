; seatd - Minimal seat management daemon
; https://git.sr.ht/~kennylevinsen/seatd

(package "seatd" "0.8.0"
  (description "Minimal seat management daemon")
  (license "MIT")
  (homepage "https://git.sr.ht/~kennylevinsen/seatd")

  (deps
    (build "meson" "ninja" "pkg-config")
    (runtime))

  (acquire
    (source "https://git.sr.ht/~kennylevinsen/seatd/archive/0.8.0.tar.gz"))

  (build
    (extract "tar-gz")
    (run "cd seatd-0.8.0 && meson setup build --prefix=$PREFIX -Dlibseat-logind=disabled -Dlibseat-seatd=enabled -Dlibseat-builtin=enabled -Dserver=enabled -Dman-pages=disabled")
    (run "cd seatd-0.8.0 && ninja -C build -j$NPROC")
    (run "cd seatd-0.8.0 && ninja -C build install"))

  (cleanup sources))

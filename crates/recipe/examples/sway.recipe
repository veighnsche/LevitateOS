; Sway - i3-compatible Wayland compositor
; https://swaywm.org

(package "sway" "1.10"
  (description "i3-compatible Wayland compositor")
  (license "MIT")
  (homepage "https://swaywm.org")

  (deps
    (build "meson" "ninja" "pkg-config")
    (runtime "wlroots" "wayland" "wayland-protocols" "libxkbcommon" "libinput" "seatd"))

  (acquire
    (source "https://github.com/swaywm/sway/releases/download/1.10/sway-1.10.tar.gz"))

  (build
    (extract "tar-gz")
    (run "cd sway-1.10 && meson setup build --prefix=$PREFIX -Dxwayland=disabled -Dtray=disabled -Dman-pages=disabled")
    (run "cd sway-1.10 && ninja -C build -j$NPROC")
    (run "cd sway-1.10 && ninja -C build install"))

  (cleanup sources))

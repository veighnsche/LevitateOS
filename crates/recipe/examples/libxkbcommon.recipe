; libxkbcommon - Keyboard keymap library
; https://xkbcommon.org

(package "libxkbcommon" "1.7.0"
  (description "Keyboard keymap handling library")
  (license "MIT")
  (homepage "https://xkbcommon.org")

  (deps
    (build "meson" "ninja" "pkg-config")
    (runtime "wayland" "wayland-protocols"))

  (acquire
    (source "https://xkbcommon.org/download/libxkbcommon-1.7.0.tar.xz"))

  (build
    (extract "tar-xz")
    (run "cd libxkbcommon-1.7.0 && meson setup build --prefix=$PREFIX -Denable-docs=false -Denable-x11=false -Denable-wayland=true")
    (run "cd libxkbcommon-1.7.0 && ninja -C build -j$NPROC")
    (run "cd libxkbcommon-1.7.0 && ninja -C build install"))

  (cleanup sources))
